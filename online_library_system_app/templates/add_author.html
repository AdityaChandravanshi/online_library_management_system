{% extends 'base.html' %}

{% block title %}Add Book{% endblock %}

{% block content %}

<head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.19.3/jquery.validate.min.js"></script>
    <style>
        .error {
            color: red;
        }
    </style>
</head>

    <h2>Add Author</h2>
    <hr>
    <a class="btn btn-primary" href="/add-author" role="button">Add Author</a>
    <a class="btn btn-primary" href="/authors" role="button">Authors List</a>
    <a class="btn btn-primary" href="/add-book" role="button">Add Book</a>
    <a class="btn btn-primary" href="/books" role="button">Book List</a>
    <a class="btn btn-primary" href="/add-borrow-record" role="button">Add Borrow Record</a>
    <a class="btn btn-primary" href="/borrow-records" role="button">Borrow Record List</a>
    <a class="btn btn-primary" href="/export-excel-author" role="button">Export Excel Sheet Author</a>
    <a class="btn btn-primary" href="/export-excel-book" role="button">Export Excel Sheet Book</a>
    <a class="btn btn-primary" href="/export-excel-borrow-record" role="button">Export Excel Sheet Borrow Record</a>
    <a class="btn btn-primary" href="/export-excel-author-book-borrow-record" role="button">Export Excel Sheet Author, Book, Borrow Record</a>
    <hr>
    <form id="authorForm" method="post">
        {% csrf_token %}
        <div>
            <label for="id_name">Name:</label>
            {{ form.name }}
            {% if form.name.errors %}
                <div style="color: red;">
                    {{ form.name.errors }}
                </div>
            {% endif %}
        </div>
        <div>
            <label for="id_email">Email:</label>
            {{ form.email }}
            {% if form.email.errors %}
                <div style="color: red;">
                    {{ form.email.errors }}
                </div>
            {% endif %}
        </div>
        <div>
            <label for="id_bio">Bio:</label>
            {{ form.bio }}
            {% if form.bio.errors %}
                <div style="color: red;">
                    {{ form.bio.errors }}
                </div>
            {% endif %}
        </div>
        <button class="btn btn-primary" type="submit">Add Author</button>
    </form>

    <script>
        $(document).ready(function() {
            $("#authorForm").validate({
                rules: {
                    name: "required",
                    email: {
                        required: true,
                        email: true
                    },
                    bio: "required"
                },
                messages: {
                    name: "Please enter the author's name",
                    email: {
                        required: "Please enter the author's email",
                        email: "Please enter a valid email address"
                    },
                    bio: "Please enter the author's bio"
                }
            });
        });
    </script>
    
{% endblock %}